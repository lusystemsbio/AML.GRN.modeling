remove(list = ls())
circuit.idx <- '0.09-32-0.85'
tfs <- c('')
tfs <- c('RB1', 'STAT3', 'POU2F1', 'E2F1', 'MYC', 'TP53', 'E2F4', 'TFDP1')
length(tfs)
length(tfs)
getwd()
targetdb <- readRDS(file = '../../databases/targetDB.list.rds')
names(targetdb)
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
targetdb <- targetdb.list$`0.09`
names(targetdb)
names(targetdb) %in% tfs
tfs %in% names(targetdb)
targets <- c()
targets <- c()
for(tf in tfs){
targets <- c(targets, targetdb[[tf]])
}
targets
length(targets)
length(unique(sort(targets)))
length(unique(targets))
tf.targets <- c(tfs, targets)
length(tf.targets)
length(unique(tf.targets))
tf.targets <- unique(tf.targets)
length(unique(tf.targets))
length(tf.targets)
tf.targets <- c(tfs, targets)
length(tf.targets)
tf.targets <- unique(tf.targets)
length(tf.targets)
tfs %in% names(targetdb)
tf.targets.that_are_tfs <- names(targetdb)[tf.targets %in% names(targetdb)]
length(tf.targets.that_are_tfs)
length(tf.targets.that_are_tfs)
tf.targets.that_are_tfs
tf.targets %in% names(targetdb
)
length(tf.targets.that_are_tfs)
length(tf.targets)
head(tf.targets.that_are_tfs)
is(tf.targets.that_are_tfs)
is.na(tf.targets.that_are_tfs)
tail(tf.targets.that_are_tfs)
head(tf.targets.that_are_tfs)
tf.targets
head(tf.targets)
head(tf.targets.that_are_tfs)
tfs %in% names(targetdb)
length(tf.targets %in% names(targetdb))
length(tf.targets)
length(names(targetdb))
length(tf.targets %in% names(targetdb))
tf.targets.that_are_tfs <- names(targetdb)[names(targetdb) %in% tf.targets]
length(names(targetdb) %in% tf.targets)
tf.targets.that_are_tfs <- names(targetdb)[names(targetdb) %in% tf.targets]
length(tf.targets.that_are_tfs)
is.na(tf.targets.that_are_tfs)
sum(is.na(tf.targets.that_are_tfs))
tf.targets.that_are_tfs <- names(targetdb)[names(targetdb) %in% tf.targets]
length(tf.targets.that_are_tfs)
length(tf.targets)
length(tf.targets.that_are_tfs)
length(tf.targets.that_are_tfs)
length(unique(tf.targets.that_are_tfs))
length(unique(tf.targets.that_are_tfs))
outdir <- './data/'
dir.create(outdir)
write.table(tf.targets, file = paste0(outdir, 'tf.targets.txt'))
write.table(tf.targets, file = paste0(outdir, 'tf.targets.txt'), row.names = F, quote = F)
write.table(tf.targets.that_are_tfs, file = paste0(outdir, 'tf.targets.that_are_tfs.txt'), row.names = F, quote = F)
remove(list = ls())
circuit.idx <- '0.09-32-0.85'
tfs <- c('STAT3', 'RB1', 'POU2F1', 'MYCN', 'ETS2',
'NFIC', 'MYC',  'TP53', 'E2F4', 'TFDP1')
length(tfs)
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
names(targetdb)
targetdb <- targetdb.list$`0.09`
tfs %in% names(targetdb)
targets <- c()
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
names(targetdb)
targetdb <- targetdb.list$`0.09`
tfs %in% names(targetdb)
targets <- c()
for(tf in tfs){
targets <- c(targets, targetdb[[tf]])
}
targets
length(targets)
length(unique(targets))
tf.targets <- c(tfs, targets)
length(tf.targets)
length(unique(tf.targets))
tf.targets <- unique(tf.targets)
length(tf.targets) # 2233
tf.targets.that_are_tfs <- names(targetdb)[names(targetdb) %in% tf.targets]
length(tf.targets.that_are_tfs) # 182
length(tf.targets.that_are_tfs)
length(unique(tf.targets.that_are_tfs))
outdir <- './data.all.top.TFs/'
dir.create(outdir)
write.table(tf.targets, file = paste0(outdir, 'tf.targets.txt'), row.names = F, quote = F)
write.table(tf.targets.that_are_tfs, file = paste0(outdir, 'tf.targets.that_are_tfs.txt'), row.names = F, quote = F)
remove(list = ls())
circuit.idx <- '0.09-32-0.85'
tfs <- c('STAT3', 'RB1', 'POU2F1', 'MYCN', 'ETS2',
'NFIC', 'MYC',  'TP53', 'E2F4', 'TFDP1')
length(tfs)
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
names(targetdb)
targetdb <- targetdb.list$`0.09`
names(targetdb)
tfs %in% names(targetdb)
targets <- c()
for(tf in tfs){
targets <- c(targets, targetdb[[tf]])
}
targets
length(targets)
length(unique(targets))
length(tfs)
length(unique(tf.targets))
tf.targets <- c(tfs, targets)
length(tf.targets)
length(unique(tf.targets))
tf.targets <- unique(tf.targets)
length(tf.targets) # 1876
tf.targets.that_are_tfs <- names(targetdb)[names(targetdb) %in% tf.targets]
length(tf.targets.that_are_tfs) # 179
length(tf.targets.that_are_tfs)
length(unique(tf.targets.that_are_tfs))
outdir <- './data.all.top.TFs/'
dir.create(outdir)
write.table(tf.targets, file = paste0(outdir, 'tf.targets.txt'), row.names = F, quote = F)
write.table(tf.targets.that_are_tfs, file = paste0(outdir, 'tf.targets.that_are_tfs.txt'), row.names = F, quote = F)
tfs <- c('RB1', 'STAT3', 'POU2F1', 'E2F1', 'MYC', 'TP53', 'E2F4', 'TFDP1')
length(tfs)
tfPairs <- c('RB1_STAT3', 'POU2F1_RB1', 'POU2F1_STAT3', 'MYCN_STAT3', 'ETS2_STAT3', 'MYCN_RB1', 'ETS2_POU2F1', 'ETS2_MYCN')
length(tfPairs)
tfPairs <- c('RB1_STAT3', 'POU2F1_RB1', 'POU2F1_STAT3', 'MYCN_STAT3', 'ETS2_STAT3', 'MYCN_POU2F1', 'MYCN_RB1', 'ETS2_RB1', 'ETS2_POU2F1', 'ETS2_MYCN')
length(tfPairs)
tfPairs <- c('RB1_STAT3', 'POU2F1_RB1', 'POU2F1_STAT3', 'MYCN_STAT3', 'ETS2_STAT3', 'MYCN_POU2F1', 'MYCN_RB1', 'ETS2_RB1', 'ETS2_POU2F1', 'ETS2_MYCN',
'MYC_E2F1', 'TP53_MYC', 'E2F4_MYC', 'TP53_E2F1', 'TFDP1_MYC', 'E2F4_TP53', 'TFDP1_MYC', 'E2F4_TP53', 'TFDP1_E2F1', 'TFDP1_TP53', 'E2F4_E2F1', 'E2F4_TFDP1')
length(tfPairs)
tfPairs <- readRDS('./data/prodRate.pairs.rds')
class(tfPairs)
names(tfPairs)
length(tfPairs)
tfPairs$E2F4_TFDP1
tfPairs <- readRDS('./data/prodRate.pairs.rds')
class(tfPairs)
tfPairs$E2F4_TP53
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
targetdb <- targetdb.list$`0.09`
names(targetdb)
tfs %in% names(targetdb)
for(tfPair in names(tfPairs)){
print(tfPair)
}
for(tfPair in names(tfPairs)){
print(tfPair)
tmp <- strsplit(tfPair)
break()
}
strsplit(tfPair, "_")
strsplit(tfPair, "_")[[1]]
strsplit(tfPair, "_")[[2]]
strsplit(tfPair, "_")[[1]]
s = strsplit(tfPair, "_")[[1]]
s[1]
s[2]
strsplit(tfPair, "_")[[1]][1]
strsplit(tfPair, "_")[[1]][2]
for(tfPair in names(tfPairs)){
print(tfPair)
tmp <- strsplit(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- c(targetdb[[tf1]], targetdb[[tf2]])
break()
}
print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- c(targetdb[[tf1]], targetdb[[tf2]])
leng
length(targets.tfPair)
tf.targets <- list()
targets.tfPair <- c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]])
length( targets.tfPair)
length(unique( targets.tfPair))
print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
length(unique( targets.tfPair))
tf.targets <- list()
for(tfPair in names(tfPairs)){
print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
tf.targets[[tfPair]] <- targets.tfPair
break()
}
tf.targets <- list()
for(tfPair in names(tfPairs)){
print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
tf.targets[[tfPair]] <- targets.tfPair
#break()
}
names(tf.targets)
tf.targetsthat_are_tfs <- list()
tf.targets <- list()
tf.targetsthat_are_tfs <- list()
for(tfPair in names(tfPairs)){
#print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
tf.targets[[tfPair]] <- targets.tfPair
tf.targetsthat_are_tfs[[tfPair]] <- names(targetdb)[names(targetdb) %in% targets.tfPair]
#break()
}
length(tf.targets$E2F4_TFDP1)
length(tf.targetsthat_are_tfs$E2F4_TFDP1)
outdir <- './data.target.tfPairs/'
dir.create(outdir)
write.table(tf.targets, file = paste0(outdir, 'tf.targets.txt'), row.names = F, quote = F)
saveRDS(tf.targetsthat_are_tfs, file = paste0(outdir, 'tf.targets_that_ar_tfs.BytfPair.rds'))
names(tf.targets)
length(tf.targets$E2F4_TFDP1)
length(tf.targetsthat_are_tfs$E2F4_TFDP1)
length(names(tf.targets))
length(names(tf.targetsthat_are_tfs))
outdir <- './data.target.tfPairs/'
dir.create(outdir)
saveRDS(tf.targets, file = paste0(outdir, 'tf.targets.BytfPair.rds'))
saveRDS(tf.targetsthat_are_tfs, file = paste0(outdir, 'tf.targets_that_ar_tfs.BytfPair.rds'))
tfPairs <- readRDS(paste0(datadir, 'prodRate.pairs.rds')
class(tfPairs)
tfPairs$E2F4_TP53
# load TF-target DB
targetdb.list <- readRDS(file = '../../databases/targetDB.list.rds')
targetdb <- targetdb.list$`0.09`
names(targetdb)
tf.targets <- list()
tf.targetsthat_are_tfs <- list()
for(tfPair in names(tfPairs)){
#print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
tf.targets[[tfPair]] <- targets.tfPair
tf.targetsthat_are_tfs[[tfPair]] <- names(targetdb)[names(targetdb) %in% targets.tfPair]
#break()
}
names(tf.targets)
length(tf.targets$E2F4_TFDP1)
length(tf.targetsthat_are_tfs$E2F4_TFDP1)
length(names(tf.targets))
length(names(tf.targetsthat_are_tfs))
saveRDS(tf.targets, file = paste0(datadir, 'tf.targets.BytfPair.rds'))
saveRDS(tf.targetsthat_are_tfs, file = paste0(datadir, 'tf.targets_that_ar_tfs.BytfPair.rds'))
tfPairs <- readRDS(paste0(datadir, 'prodRate.pairs.rds'))
datadir <- './data.target.tfPairs/'
tfPairs <- readRDS(paste0(datadir, 'prodRate.pairs.rds'))
class(tfPairs)
tfPairs$E2F4_TP53
tf.targets <- list()
tf.targetsthat_are_tfs <- list()
for(tfPair in names(tfPairs)){
#print(tfPair)
tf1 <- strsplit(tfPair, "_")[[1]][1]
tf2 <- strsplit(tfPair, "_")[[1]][2]
targets.tfPair <- unique(c(tf1, tf2, targetdb[[tf1]], targetdb[[tf2]]))
print(length( targets.tfPair))
tf.targets[[tfPair]] <- targets.tfPair
tf.targetsthat_are_tfs[[tfPair]] <- names(targetdb)[names(targetdb) %in% targets.tfPair]
#break()
}
names(tf.targets)
