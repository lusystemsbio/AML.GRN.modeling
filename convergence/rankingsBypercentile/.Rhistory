prank.samples.flex$nodes <- circuit_m.sim$Nodes
# perform ranking for each sample
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
View(prank.samples.acc)
View(prank.samples.flex)
remove(list = ls())
outdir <- './results/'
circuit_metrics.sim <- read.csv(file = './results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
circuit_m.sim <- circuit_metrics.sim.list$S1
View(circuit_m.sim)
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
topCkts
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
View(circuit_m.sim)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
View(prank.samples.acc)
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
View(circuit_m.sim)
remove(list = ls())
circuit_metrics.sim <- read.csv(file = './results/summary.circuits.sim.sigVal.csv', row.names = 1)
View(circuit_metrics.sim)
circuit_metrics.sim.sorted <- sortByTwoIndices.acc_and_flex(circuit_metrics.sim)
source('../../networks/functions.R')
outdir <- './results/'
circuit_metrics.sim.sorted <- sortByTwoIndices.acc_and_flex(circuit_metrics.sim)
remove(list = ls())
outdir <- './results/'
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
#!/usr/bin/env Rscript
remove(list = ls())
outdir <- './results/'
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
#perc.rank.3 <- function(x, xo)  length(x[x >= xo])/length(x)*100
# create data structures
circuit_m.sim <- circuit_metrics.sim.list$S1
# check whetehr they are the same circuits
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
# perform ranking for each sample
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
outdir <- './results/'
dir.create(outdir)
remove(list = ls())
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
View(prank.samples.acc)
View(prank.samples.avg)
remove(list = ls())
circuit_metrics.sim <- read.csv(file = './results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
dim(circuit_metrics.sim)
figdir <- './figs.distr/'
dir.create(figdir)
fname_fig <- paste0(figdir, 'networksize-vs-accuracy.pdf')
par(mfrow=c(3,1))
par(mar=c(5.0, 5.5, 1.5, 2)) # bottom, left, top, right
plot(circuit_metrics.sim$Nodes, circuit_metrics.sim$Accuracy,
xlab='Nodes', ylab='')
plot(circuit_metrics.sim$Interactions, circuit_metrics.sim$Accuracy,
xlab='Interactions', ylab='')
plot(circuit_metrics.sim$PosInt, circuit_metrics.sim$Accuracy,
xlab='Positive Interactions', ylab='')
View(circuit_metrics.sim)
View(circuit_metrics.sim)
View(circuit_metrics.sim)
prank.samples.acc
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
View(prank.samples.avg)
remove(list = ls())
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.acc$circuit.id <- rownames(circuit_metrics.sim)[1:10]
prank.samples.flex$circuit.id <- rownames(circuit_metrics.sim)[1:10]
View(prank.samples.acc)
View(prank.samples.flex)
View(circuit_metrics.sim)
View(prank.samples.acc)
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
remove(list = ls())
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
topCkts <- rownames(circuit_metrics.sim)[1:10]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:10]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:10], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:10], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$circuit.id <- rownames(circuit_metrics.sim)[1:10]
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
View(prank.samples.avg)
remove(list = ls())
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../samples/comb.metrics.SSIZE.10K/results/circuit_metrics.sim.list.rds'))
View(circuit_metrics.sim)
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
names(circuit_metrics.sim.list)
circuit_metrics.sim.list <- readRDS(file = paste0('../networks/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
NO.TOP.CIRCUITS <- 10
topCkts <- rownames(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
View(prank.samples.acc)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:NO.TOP.CIRCUITS], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:NO.TOP.CIRCUITS], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
View(prank.samples.flex)
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
View(prank.samples.avg)
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
remove(list = ls())
NO.TOP.CIRCUITS <- 10
outdir <- './results/'
dir.create(outdir)
circuit_metrics.sim <- read.csv(file = '../rankings.mean_acc/results/summary.circuits.sim.sortedByAcc_flex.csv', row.names = 1)
circuit_metrics.sim.list <- readRDS(file = paste0('../networks/results/circuit_metrics.sim.list.rds'))
names(circuit_metrics.sim.list)
perc.rank.3 <- function(x, xo)  (100-length(x[x <= xo])/length(x)*100)
circuit_m.sim <- circuit_metrics.sim.list$S1
View(circuit_m.sim)
topCkts <- rownames(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
sum(rownames(circuit_m.sim) == topCkts)
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
prank.samples.acc <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.acc) <- row.names(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
colnames(prank.samples.acc) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.acc$nodes <- circuit_m.sim$Nodes
prank.samples.flex <- as.data.frame(matrix(nrow = nrow(circuit_m.sim),
ncol = (length(names(circuit_metrics.sim.list))+1)))
rownames(prank.samples.flex) <- row.names(circuit_metrics.sim)[1:NO.TOP.CIRCUITS]
colnames(prank.samples.flex) <- c('nodes', names(circuit_metrics.sim.list))
prank.samples.flex$nodes <- circuit_m.sim$Nodes
for(sample_name in names(circuit_metrics.sim.list)){
print(sample_name)
circuit_m.sim <- circuit_metrics.sim.list[[sample_name]]
# prank.acc <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
# prank.flex <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc[sample_name] <- sapply(circuit_m.sim$Accuracy, function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.samples.flex[sample_name] <- sapply(circuit_m.sim$flexibility, function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
#print(sum(rownames(circuit_m.sim) == topCkts))
}
prank.samples.acc$mean <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, mean)
prank.samples.acc$sd <- apply(prank.samples.acc[2:ncol(prank.samples.acc)], 1, sd)
prank.samples.flex$mean <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, mean)
prank.samples.flex$sd <- apply(prank.samples.flex[2:ncol(prank.samples.flex)], 1, sd)
prank.acc.bg <- sapply(circuit_metrics.sim$Accuracy[1:NO.TOP.CIRCUITS], function (x) perc.rank.3(circuit_metrics.sim$Accuracy, x))
prank.flex.bg <- sapply(circuit_metrics.sim$flexibility[1:NO.TOP.CIRCUITS], function (x) perc.rank.3(circuit_metrics.sim$flexibility, x))
prank.samples.acc$bg <- prank.acc.bg
prank.samples.flex$bg <- prank.flex.bg
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
prank.samples.avg <- cbind(prank.samples.flex$nodes,
(prank.samples.acc$mean + prank.samples.flex$mean)/2,
(prank.samples.acc$bg+prank.samples.flex$bg)/2)
rownames(prank.samples.avg) <- rownames(prank.samples.flex)
colnames(prank.samples.avg) <- c('nodes', 'avg.rank.samples', 'avg.rank.bg')
write.csv(format(prank.samples.acc, digits = 3), file = './results/prank.samples.acc.csv', row.names = T, quote = F)
write.csv(format(prank.samples.flex, digits = 3), file = './results/prank.samples.flex.csv', row.names = T, quote = F)
write.csv(format(prank.samples.avg, digits = 3), file = './results/prank.samples.avg.csv', row.names = T, quote = F)
View(circuit_metrics.sim)
