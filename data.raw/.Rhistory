rm(list=ls())
setwd(getwd())
TREATMENT.1.NAME <- 'IDH1'
TREATMENT.2.NAME <- 'IDH2'
libdir <- '../lib/'
source(paste0(libdir, 'lib.aml.idh.R'))
fname_data <- "raw_brainarray.txt"
fname_mapping ="erasmus_exp.txt"
rdata <- map.colnames_of_raw_data(fname_data = fname_data,
fname_mapping = fname_mapping)
fname_samples.CTRL <- 'samples.CONTROL.csv'
fname_samples.CTR
fname_samples.CTRL <- 'samples.CONTROL.csv'
fname_samples.TREATMENT.1 <- 'IDH1.txt'
fname_samples.TREATMENT.2 <- 'IDH2.txt'
samples.CTRL <- read.csv(fname_samples.CTRL, row.names = 1)
samples.TREATMENT.2 <- read.table(file = fname_samples.TREATMENT.2,
col.names = c("PATIENT.ID"))
sample_ids.TREATMENT.1 <- samples.TREATMENT.1$PATIENT.ID
sample_ids.TREATMENT.2 <- samples.TREATMENT.2$PATIENT.ID
sample_ids.TREATMENT.1
dim(samples.TREATMENT.1)
samples.TREATMENT.1 <- read.table(file = fname_samples.TREATMENT.1,
col.names = c("PATIENT.ID"))
samples.TREATMENT.2 <- read.table(file = fname_samples.TREATMENT.2,
col.names = c("PATIENT.ID"))
View(samples.TREATMENT.1)
View(samples.TREATMENT.2)
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2,
TREATMENT.1.NAME,
TREATMENT.2.NAME)
sample_ids.TREATMENT.1 <- samples.TREATMENT.1$PATIENT.ID
sample_ids.TREATMENT.2 <- samples.TREATMENT.2$PATIENT.ID
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2,
TREATMENT.1.NAME,
TREATMENT.2.NAME)
colnames.new
TREATMENT.1.NAME <- 'IDH'
TREATMENT.2.NAME <- 'IDH'
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2,
TREATMENT.1.NAME,
TREATMENT.2.NAME)
fname_samples <- 'samples.selected.txt'
SAMPLE.ID
fname_samples <- 'samples.selected.txt'
write.table(colnames.new,file = fname_samples, quote = FALSE,
row.names = FALSE, col.names = c("SAMPLE.ID"))
rdata.sele <- rdata[ ,sample_ids.comb]
dim(rdata.sele)
names(rdata.sele) <- colnames.new
View(rdata.sele)
cat('Save selected brain array data')
fname_data.sele <- 'raw_brainarray.sele.txt'
write.table(rdata.sele, file = fname_data.sele, sep='\t',
quote = FALSE, row.names = TRUE)
rm(list=ls())
setwd(getwd())
TREATMENT.1.NAME <- 'IDH'
TREATMENT.2.NAME <- 'IDH'
TREATMENT.NAME <- 'IDH' # includes IDH1 and IDH2
libdir <- '../lib/'
source(paste0(libdir, 'lib.aml.idh.R'))
fname_data <- "raw_brainarray.txt"
fname_mapping ="erasmus_exp.txt"
rdata <- map.colnames_of_raw_data(fname_data = fname_data,
fname_mapping = fname_mapping)
fname_samples.CTRL <- 'samples.CONTROL.csv'
fname_samples.TREATMENT.1 <- 'IDH1.txt'
fname_samples.TREATMENT.2 <- 'IDH2.txt'
samples.CTRL <- read.csv(fname_samples.CTRL, row.names = 1)
samples.TREATMENT.1 <- read.table(file = fname_samples.TREATMENT.1,
col.names = c("PATIENT.ID"))
samples.TREATMENT.2 <- read.table(file = fname_samples.TREATMENT.2,
col.names = c("PATIENT.ID"))
View(samples.TREATMENT.1)
View(samples.TREATMENT.2)
samples.TREATMENT.2
fname_samples.TREATMENT <- '.IDH.txt'
samples.TREATMENT <- read.table(file = fname_samples.TREATMENT,
col.names = c("PATIENT.ID"))
fname_samples.TREATMENT <- './IDH.txt'
samples.TREATMENT <- read.table(file = fname_samples.TREATMENT,
col.names = c("PATIENT.ID"))
View(samples.TREATMENT)
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
sample_ids.TREATMENT.1 <- samples.TREATMENT.1$PATIENT.ID
sample_ids.TREATMENT.2 <- samples.TREATMENT.2$PATIENT.ID
sample_ids.TREATMENT.1
sample_ids.TREATMENT.2
sample_ids.TREATMENT <- samples.TREATMENT$PATIENT.ID
sample_ids.TREATMENT
source('./lib.aml.idh.R'))
source('./lib.aml.idh.R')
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2,
TREATMENT.1.NAME,
TREATMENT.2.NAME)
sample_ids.comb
colnames.new
TREATMENT.1.NAME
TREATMENT.2.NAME
colnames.new
sample_ids.comb
fname_samples
fname_samples <- 'samples.selected.txt'
fname_samples
source('./lib.data.raw.R')
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
sample_ids.TREATMENT  <- gsub('D-', paste0(TREATMENT.NAME, '.'), sample_ids.TREATMENT)
sample_ids.TREATMENT
length(sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
colnames_for_data.sele <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
colnames_for_data.sele
length(colnames_for_data.sele)
create.colnames <- function(samples.CTRL,
sample_ids.TREATMENT,
TREATMENT.NAME) {
# replace D with CTRL in sample names:
#names(samples.CTRL) <- gsub('CONTROL_', 'CTRL.', colnames(samples.CTRL))
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
# replace D- in the patient list with AML. :
sample_ids.TREATMENT  <- gsub('D-', paste0(TREATMENT.NAME, '.'), sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
# combine ids
colnames_for_data.sele <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
return(colnames_for_data.sele)
}
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT,
TREATMENT.NAME)
length(colnames.new)
fname_samples <- 'samples.selected.txt'
write.table(colnames.new,file = fname_samples, quote = FALSE,
row.names = FALSE, col.names = c("SAMPLE.ID"))
sample_ids.comb <- bind.sample_names.3_groups(samples.CTRL,
sample_ids.TREATMENT.1,
sample_ids.TREATMENT.2)
sample_ids.comb
View(rdata)
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
sample_ids.TREATMENT <- gsub('D-', 'AML.', sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
sample_ids.TREATMENT
sample_ids.TREATMENT <- gsub('D.', 'AML.', sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
samples.TREATMENT <- read.table(file = fname_samples.TREATMENT,
col.names = c("PATIENT.ID"))
sample_ids.TREATMENT <- samples.TREATMENT$PATIENT.ID
sample_ids.TREATMENT
colnames.new <- create.colnames(samples.CTRL,
sample_ids.TREATMENT,
TREATMENT.NAME)
colnames.new
sample_ids.TREATMENT
sample_ids.TREATMENT <- gsub('D-', 'AML.', sample_ids.TREATMENT)
sample_ids.TREATMENT
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
sample_ids.comb <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
sample_ids.comb
bind.sample_names <- function(samples.CTRL,
sample_ids.TREATMENT){
# replace D with CTRL in sample names:
#names(samples.CTRL) <- gsub('CONTROL_', 'CTRL.', colnames(samples.CTRL))
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
# replace D- in the patient list with AML. :
sample_ids.TREATMENT <- gsub('D-', 'AML.', sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
# combine ids
sample_ids.comb <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
return(sample_ids.comb)
}
sample_ids.comb <- bind.sample_names(samples.CTRL,
sample_ids.TREATMENT,
sample_ids.TREATMENT)
bind.sample_names <- function(samples.CTRL,
sample_ids.TREATMENT){
# replace D with CTRL in sample names:
#names(samples.CTRL) <- gsub('CONTROL_', 'CTRL.', colnames(samples.CTRL))
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
# replace D- in the patient list with AML. :
sample_ids.TREATMENT <- gsub('D-', 'AML.', sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
# combine ids
sample_ids.comb <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
return(sample_ids.comb)
}
sample_ids.comb <- bind.sample_names(samples.CTRL,
sample_ids.TREATMENT,
sample_ids.TREATMENT)
bind.sample_names <- function(samples.CTRL,
sample_ids.TREATMENT){
# replace D with CTRL in sample names:
#names(samples.CTRL) <- gsub('CONTROL_', 'CTRL.', colnames(samples.CTRL))
sample_ids.CTRL <- as.character(unlist(samples.CTRL['SAMPLES',1:ncol(samples.CTRL)]))
sample_ids.CTRL <- gsub('D', 'CTRL', sample_ids.CTRL)
length(sample_ids.CTRL)
cat(sample_ids.CTRL)
# replace D- in the patient list with AML. :
sample_ids.TREATMENT <- gsub('D-', 'AML.', sample_ids.TREATMENT)
length(sample_ids.TREATMENT)
cat(sample_ids.TREATMENT)
# combine ids
sample_ids.comb <- c(sample_ids.CTRL,
sample_ids.TREATMENT)
return(sample_ids.comb)
}
sample_ids.comb <- bind.sample_names(samples.CTRL,
sample_ids.TREATMENTT)
sample_ids.comb <- bind.sample_names(samples.CTRL,
sample_ids.TREATMENT)
sample_ids.comb
length(sample_ids.comb)
sample_ids.comb
rdata.sele <- rdata[ ,sample_ids.comb]
dim(rdata.sele)
names(rdata.sele) <- colnames.new
cat('Save selected brain array data')
fname_data.sele <- 'raw_brainarray.sele.txt'
write.table(rdata.sele, file = fname_data.sele, sep='\t',
quote = FALSE, row.names = TRUE)
rm(list=ls())
setwd(getwd())
TREATMENT.1.NAME <- 'IDH'
TREATMENT.2.NAME <- 'IDH'
TREATMENT.NAME <- 'IDH' # includes IDH1 and IDH2
source('./lib.data.raw.R')
fname_data <- "raw_brainarray.txt"
fname_mapping ="erasmus_exp.txt"
rdata <- map.colnames_of_raw_data(fname_data = fname_data,
fname_mapping = fname_mapping)
?get.knn
library(KNN)
library(FNN)
?get.knn
